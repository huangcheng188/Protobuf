syntax = "proto3";

// 替换为你的包名
//option java_package = "com.inmo.app.module_go3device";

// 生成的外部类名
//option java_outer_classname = "SpeechInscriptionProto";

//消息主体类型
enum SpeechInscriptionMessageType {
    PROMPT_COMMANDS_TYPE = 0;
    UPLOAD_PROMPT_DOCUMENT_REQ_TYPE = 1;
    DOCUMENT_UPLOAD_STATE_RESP= 2;
    UPDATE_PAGE_TURNING_MODE_TYPE = 3;
    SPEECH_PROGRESS_SYNC = 4;
}

//消息主体
message SpeechInscription {
    SpeechInscriptionMessageType msg_type = 1;
    oneof Command
    {
        UpdatePromptDocumentReq uploadPromptDocument = 2;
        DocumentUploadStateResp documentUploadStateResp = 3;
        SpeechProgressSync speechProgressSync = 4;
        UpdatePageTurningMode updatePageTurningMode = 5;
        PromptCommandType promptCommandType = 6;
    }
}

enum PromptCommandType {
    PREVIOUS_PAGE = 0;    // 上翻页
    NEXT_PAGE = 1;        // 下翻页
    REQUEST_PROMPT_STATE = 2;      //  蓝牙断开重连时，app发送该请求眼镜端提词状态；眼镜端返回SwitchApplication开启演讲提词和SpeechProgressSync信息；如果没提词，不用返回
}

//更新眼镜端提词文档
message UpdatePromptDocumentReq {
    uint32 fileId = 1;    //文档id
    bytes fileName = 2; //文档名称
    bytes fileContent = 3;    //文档内容
}

// 眼镜端返回文档接收状态
message DocumentUploadStateResp  {
     uint32 uploadStateResp = 1;  // 0:上传失败；1:上传成功
     bytes failedMessage = 2;  // 失败原因
}

//提词进度调节（双端使用）；APP发送开始提词命令后以及眼镜端主动发起提词命令后，都需眼镜端返回提词进度
message SpeechProgressSync {
    uint32 line = 1;      //更新提词进度 展示到第几行
}

//更新翻页模式
message UpdatePageTurningMode {
    uint32 isTurnPageAuto = 1; //0:关闭自动翻页；1:开启自动翻页
}
